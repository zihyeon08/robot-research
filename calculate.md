# 📐 6자유도 로봇팔 연구 계산 설명서

이 문서는 6자유도 로봇팔 동역학 모델링 및 제어 최적화 연구에서 사용되는 **계산 항목, 수식, 구현 방식**을 정리한 문서입니다.

---

## ✅ 전체 계산 흐름 요약

| 단계 | 계산 대상       | 입력 값                     | 사용 수식 / 알고리즘                               | 출력 / 목적             |
|------|------------------|-----------------------------|----------------------------------------------------|--------------------------|
| 1단계 | 위치 모델링     | DH 파라미터                 | 변환행렬 \(T_i\), FK                                | 말단 위치/자세          |
| 2단계 | 토크 모델링     | 질량, 관성, 위치            | 라그랑주 방정식                                     | 각 관절 토크             |
| 3단계 | 상태 측정       | 관절 각도 \(q_i\)           | 수치 미분                                           | 속도/가속도              |
| 4단계 | 제어 적용       | 토크 공식, 궤적             | 피드포워드 + PID 제어                               | 입력 신호                |
| 5단계 | 성능 최적화     | 센서 데이터                 | 오차 계산, ML 모델링                                | 제어 성능 개선 및 평가   |

---

## 🟩 1단계: 위치 및 자세 계산 (Forward Kinematics)

- **입력값**: DH 파라미터 (\( \theta, d, a, \alpha \))
- **수식**:
  \[
  T_i = Rot_z(\\theta_i) Trans_z(d_i) Trans_x(a_i) Rot_x(\\alpha_i)
  \]
- **출력**: 말단 위치, 자세 (\(T_0^6\))
- **도구**: Python (SymPy, NumPy)

---

## 🟩 2단계: 동역학 모델링 (Lagrangian 기반)

- **입력값**: 각 링크의 질량 \(m_i\), 속도 \(\\dot{q}_i\), 가속도 \(\\ddot{q}_i\), 위치
- **수식**:
  \[
  L = T - V
  \]
  \[
  \\tau_i = \\frac{d}{dt} \\left( \\frac{\\partial L}{\\partial \\dot{q}_i} \\right) - \\frac{\\partial L}{\\partial q_i}
  \]
- **출력**: 관절별 토크
- **도구**: Python (SymPy)

---

## 🟩 3단계: 상태 측정

- **입력값**: 센서로 측정한 각도 \(q_i(t)\)
- **수식**:
  \[
  \\dot{q}_i = \\frac{q_i(t) - q_i(t-\\Delta t)}{\\Delta t}
  \quad
  \\ddot{q}_i = \\frac{\\dot{q}_i(t) - \\dot{q}_i(t-\\Delta t)}{\\Delta t}
  \]
- **출력**: 각속도, 각가속도
- **도구**: Arduino, Python

---

## 🟩 4단계: 제어기 적용

- **입력값**: 계산된 토크, 목표 궤적
- **수식**:
  \[
  u = \\tau + K_p e + K_d \\dot{e}
  \]
- **출력**: 제어 입력 (PWM 등)
- **도구**: Python (실시간 제어)

---

## 🟩 5단계: 데이터 기반 분석 및 최적화

- **입력값**: 실험 데이터 (시간, 각도, 오차 등)
- **분석**:
  - 성능 지표: RMSE, 응답 시간, 에너지 소비량
  - ML 모델: 랜덤포레스트, 신경망
- **출력**: 최적 제어법, 가설 검증
- **도구**: pandas, scikit-learn, PyTorch

---

📁 돌아가기: [연구 계획서로 이동](README_Lagrange_RobotArm.md)
